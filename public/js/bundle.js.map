{"mappings":"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","sources":["public/js/index.js","public/js/auth.js","public/js/alert.js","public/js/popup.js","public/js/updateSettings.js"],"sourcesContent":["/* eslint-disable */\n\nimport { authAccount } from './auth.js';\nimport {\n  showPopup,\n  hidePopup,\n  showProfilePopup,\n  hideProfilePopup,\n  showSettingsPopup,\n  hideSettingsPopup,\n} from './popup.js';\nimport { updateDataSettings } from './updateSettings.js';\n\nconst mainEL = document.querySelector('main');\nconst sidebarEl = document.querySelector('aside');\nconst containerEl = document.querySelector('.container');\nconst postCardEls = document.querySelectorAll('.post-card');\nconst backBtn = document.querySelector('.btn--back');\nconst userBtn = document.querySelector('.nav-item--user button');\nconst editProfileBtn = document.querySelector('.btn--edit-profile');\n// const closeProfileBtn = document.querySelector('.profile .btn--close');\nconst loginForm = document.querySelector('.login .form');\nconst signupForm = document.querySelector('.signup .form');\n\nsignupForm?.addEventListener('submit', function (e) {\n  e.preventDefault();\n  alert('hello');\n  const name = document.querySelector('#name').value;\n  const username = document.querySelector('#username').value;\n  const email = document.querySelector('#email').value;\n  const phone =\n    document.querySelector('#phone').value !== ''\n      ? document.querySelector('#phone').value\n      : undefined;\n  const password = document.querySelector('#password').value;\n  const passwordConfirm = document.querySelector('#passwordConfirm').value;\n  console.log(name, email, phone, password, passwordConfirm);\n  authAccount('signup', {\n    name,\n    username,\n    email,\n    password,\n    passwordConfirm,\n    phone,\n  });\n});\n\nloginForm?.addEventListener('submit', function (e) {\n  e.preventDefault();\n  const email = document.querySelector('#email').value;\n  const password = document.querySelector('#password').value;\n  authAccount('login', { email, password });\n});\n\npostCardEls?.forEach(postCardEl => {\n  postCardEl.addEventListener('click', function (e) {\n    e.preventDefault();\n    // alert('hello');\n    if (e.target.closest('.user-link'))\n      return location.assign(\n        `${e.target.closest('.user-link').getAttribute('href')}`,\n      );\n    if (e.target.closest('.post-author-link'))\n      return location.assign(\n        `${e.target.closest('.post-author-link').getAttribute('href')}`,\n      );\n    const postId = e.currentTarget.dataset.id;\n    if (postId) location.assign(`/posts/${postId}`);\n  });\n});\n// console.log(closeProfileBtn);\n// closeProfileBtn?.addEventListener('click', function (e) {\n//   e.preventDefault();\n//   alert('ok');\n//   hideProfilePopup();\n// });\n\neditProfileBtn?.addEventListener('click', function (e) {\n  e.preventDefault();\n  // alert('hello');\n  showProfilePopup();\n});\n\nuserBtn?.addEventListener('click', function (e) {\n  e.preventDefault();\n  // alert('hello');\n  if (!document.querySelector('.popup')) showPopup();\n});\n\n// backBtn?.addEventListener('click', function (e) {\n//   e.preventDefault();\n//   window.history.back();\n// });\n\nwindow.addEventListener('click', function (e) {\n  // e.preventDefault() //! don't use e.preventDefault() in window if you don't want your window tab on browser disable all events like click, load,...\n  //============================================BUTTON BACK FOR EVERY PAGES\n  if (e.target.closest('.btn--back')) return window.history.back();\n\n  //============================================FOR ACCOUNT PAGE\n  if (\n    document.querySelector('.profile-popup')?.classList.contains('disable-el')\n  )\n    return;\n  if (e.target.closest('.btn--profile-save')) {\n    const formData = new FormData();\n    formData.append('name', document.querySelector('#name').value);\n    formData.append('email', document.querySelector('#email').value);\n\n    if (document.querySelector('#photo').files[0])\n      formData.append('photo', document.querySelector('#photo').files[0]);\n    console.log(document.querySelector('#backgroundPhoto').files[0]);\n    if (document.querySelector('#backgroundPhoto').files[0])\n      formData.append(\n        'backgroundPhoto',\n        document.querySelector('#backgroundPhoto').files[0],\n      );\n\n    return updateDataSettings('data', formData);\n  }\n\n  if (e.target.closest('.btn--settings-save')) {\n    const currentPassword = document.querySelector('#currentPassword').value;\n    const password = document.querySelector('#password').value;\n    const passwordConfirm = document.querySelector('#passwordConfirm').value;\n    return updateDataSettings('password', {\n      currentPassword,\n      password,\n      passwordConfirm,\n    });\n  }\n\n  // console.log(e.target, document.querySelector('.popup'));\n  // console.log(e.target === document.querySelector('.profile-icon--close'));\n  // ! we can use closest in this case, when we use closest it will find brother and parent elements have the class .profile-icon--close so if it's not find any it will be itself\n  // * therefore the conditional in this case that the class name of this element is unique\n  // * so in this case we can apply closest()\n  if (e.target.closest('.profile-icon--close')) {\n    hideProfilePopup();\n    hideSettingsPopup();\n    return;\n  }\n  // if (e.target === document.querySelector('.profile-icon--close'))\n  //   return hideProfilePopup();\n  if (e.target === editProfileBtn) return;\n  if (e.target.closest('.btn--edit-settings')) return showSettingsPopup();\n  //* use closest() to file the element have class name .profile-popup in this case the pointer-events is disable and so when click on window it's non element\n  // * but if we click on this popup it's always closest with .profile-popup right so that how it works\n  if (e.target.closest('.profile-popup')) return;\n\n  //====================================POPUP FOR THE USER ICON ON NAVIGATION\n  if (e.target === document.querySelector('.nav-item--user .user-photo'))\n    return;\n  //* use closest() to file the element have class name .popup--user-active nearest\n  if (e.target.closest('.popup--user-active')) return;\n  // containerEl.classList.remove('.show-popup');\n  hidePopup();\n  hideProfilePopup();\n  hideSettingsPopup();\n});\n\nwindow.addEventListener('load', function () {\n  if (mainEL.clientHeight <= sidebarEl.clientHeight)\n    mainEL.classList.add('main--fix-height');\n\n  // const userBG = document.querySelector('.background-photo--profile');\n  // const user = document.querySelector('.account').dataset.user;\n  // userBG.style.backgroundImage = `linear-gradient(rgb(33, 37, 41, 0.5), rgb(33, 37, 41, 0.5)), url(/imgs/users/${user.backgroundPhoto})`;\n});\n","/*eslint-disable */\n\nimport { showAlert } from './alert.js';\n\nexport const authAccount = async (type, data) => {\n  try {\n    document.querySelector('.btn--form').classList.add('disable-el');\n    const url =\n      type === 'login'\n        ? 'http://127.0.0.1:3100/api/v1/users/login'\n        : 'http://127.0.0.1:3100/api/v1/users/signup';\n    const res = await axios({\n      method: 'POST',\n      url,\n      data,\n    });\n    console.log(res);\n\n    if (res.data?.status === 'success') {\n      showAlert('success', 'Login successfully');\n      window.setTimeout(() => {\n        location.assign('/');\n        document.querySelector('.btn--form').classList.remove('disable-el');\n      }, 1000);\n    }\n  } catch (err) {\n    console.log(err);\n    showAlert('error', err.response?.data.message);\n    document.querySelector('.btn--form').classList.remove('disable-el');\n  }\n};\n","/* eslint-disable */\n\nconst hideAlert = () => {\n  const alertEl = document.querySelector('.alert');\n  const alertParent = alertEl?.parentNode;\n  alertParent?.removeChild(alertEl);\n};\n\nexport const showAlert = (type, msg) => {\n  hideAlert();\n  const alertEl = document.createElement('div');\n  alertEl.innerHTML = msg;\n  alertEl.classList.add('alert');\n  alertEl.classList.add(`alert--${type}`);\n  document.querySelector('body').appendChild(alertEl);\n\n  window.setTimeout(() => {\n    hideAlert();\n  }, 3000);\n};\n","/*eslint-disable */\n\nexport const showPopup = () => {\n  const popupEl = document.createElement('div');\n  popupEl.className = 'popup flex flex--direct-col popup--user-active';\n  popupEl.innerHTML = `<a class=\"popup-link\" href=\"#\">Add an existing account</a>\n  <a class=\"popup-link\" href=\"/logout\">Logout this user</a>`;\n  document.querySelector('.nav-item--user').appendChild(popupEl);\n  document.querySelector('.container').classList.add('popup--user-hide');\n};\n\nexport const hidePopup = () => {\n  const popupEl = document.querySelector('.popup');\n  const parentEl = popupEl?.parentNode;\n  parentEl?.removeChild(popupEl);\n  document.querySelector('.container').classList.remove('popup--user-hide');\n};\n\nexport const showProfilePopup = () => {\n  const user = JSON.parse(document.querySelector('.account').dataset.user);\n  // console.log(user);\n  const birthday = `${new Date(user.joinedAt).toLocaleDateString('en-US', {\n    month: 'long',\n    day: 'numeric',\n  })}, ${new Date(user.joinedAt).getFullYear()}`;\n\n  const popupEl = document.createElement('div');\n  popupEl.className = 'profile-popup';\n  popupEl.innerHTML = `<div class=\"profile\">\n  <div class=\"profile-heading flex flex--align-ct\">\n    <button class=\"btn btn--close\">\n      <ion-icon class=\"profile-icon profile-icon--close\" name=\"close-outline\"></ion-icon>\n    </button>\n    <p>Edit profile</p>\n    <button class=\"btn btn--profile btn--profile-save\">Save</button>\n  </div>\n  <div class=\"background-photo background-photo--profile\" style=\"background-image: linear-gradient(rgb(33, 37, 41, 0.5), rgb(33, 37, 41, 0.5)), url(/imgs/users/${user.backgroundPhoto})\">\n  <label for=\"backgroundPhoto\">\n    <!-- <button class=\"btn btn--add-photo\"> -->\n      <ion-icon class=\"add-photo-icon btn btn--add-photo\" name=\"camera-outline\"></ion-icon>\n    <!-- </button> -->\n    </label>\n    <input id=\"backgroundPhoto\" name=\"backgroundPhoto\" type=\"file\" />\n  </div>\n  <div class=\"user-photo--profile flex margin--bottom-md\">\n    <img\n      class=\"account-photo account-photo--profile\"\n      src=\"/imgs/users/${user.photo}\"\n      alt=\"${user.name} photo\"\n    />\n    <label for=\"photo\">\n    <!--<button class=\"btn btn--add-photo-2\">-->\n      <ion-icon class=\"add-photo-icon btn btn--add-photo-2\" name=\"camera-outline\"></ion-icon>\n      <!--</button>-->\n    </label>\n    <input id=\"photo\" name=\"photo\" type=\"file\" />\n  </div>\n</div>\n<div class=\"profile-info\">\n  <div class=\"profile-info-item\">\n    <label for=\"name\">Name</label><br />\n    <input id=\"name\" type=\"text\" value=\"${user.name}\" />\n  </div>\n  <div class=\"profile-info-item\">\n    <label for=\"email\">Email</label><br />\n    <input id=\"email\" type=\"email\" value=\"${user.email}\" />\n  </div>\n  <div class=\"profile-birthday\">\n    <p class=\"date-title\"><span>Birth date</span>&middot;<a>Edit</a></p>\n    <p class=\"date-time\">${birthday}</p>\n  </div>\n</div>`;\n\n  document.querySelector('body').appendChild(popupEl);\n  document.querySelector('.container').classList.add('show-popup');\n};\n\nexport const hideProfilePopup = () => {\n  const popupEl = document.querySelector('.profile-popup');\n  const parentEl = popupEl?.parentNode;\n  parentEl?.removeChild(popupEl);\n  document.querySelector('.container').classList.remove('show-popup');\n};\n\nexport const showSettingsPopup = () => {\n  const user = JSON.parse(document.querySelector('.account').dataset.user);\n  const changedAt = `${new Date(user.passwordChangedAt).toLocaleDateString(\n    'en-US',\n    {\n      month: 'long',\n      day: 'numeric',\n    },\n  )}, ${new Date(user.passwordChangedAt).getFullYear()}`;\n  const popupEl = document.createElement('div');\n  popupEl.className = 'profile-popup';\n  popupEl.innerHTML = `<div class=\"profile\">\n  <div class=\"profile-heading flex flex--align-ct\">\n    <button class=\"btn btn--close\">\n      <ion-icon class=\"profile-icon profile-icon--close\" name=\"close-outline\"></ion-icon>\n    </button>\n    <p>Edit Settings</p>\n    <button class=\"btn btn--profile btn--settings-save\">Save</button>\n  </div>\n</div>\n<div class=\"profile-info\">\n  <p class=\"profile-info-heading\">Password</p>\n  <div class=\"profile-info-item\">\n    <label for=\"currentPassword\">Current password</label><br />\n    <input\n      id=\"currentPassword\"\n      type=\"password\"\n      placeholder=\"••••••••\"\n      required\n    />\n  </div>\n  <div class=\"profile-info-item\">\n    <label for=\"password\">New password</label><br />\n    <input id=\"password\" type=\"password\" placeholder=\"••••••••\" />\n  </div>\n  <div class=\"profile-info-item\">\n    <label for=\"passwordConfirm\">Confirm password</label><br />\n    <input id=\"passwordConfirm\" type=\"password\" placeholder=\"••••••••\" />\n  </div>\n  <div class=\"profile-birthday\">\n    <p class=\"date-title\">\n      <span>Change recently</span>&middot;<a>At</a>\n    </p>\n    <p class=\"date-time\">${changedAt}</p>\n  </div>\n</div>`;\n  document.querySelector('body').appendChild(popupEl);\n  document.querySelector('.container').classList.add('show-popup');\n};\n\nexport const hideSettingsPopup = () => {\n  const popupEl = document.querySelector('.profile-popup');\n  const parentEl = popupEl?.parentNode;\n  parentEl?.removeChild(popupEl);\n  document.querySelector('.container').classList.remove('show-popup');\n};\n","/* eslint-disable */\n\nimport { showAlert } from './alert.js';\n\nexport const updateDataSettings = async (type, data) => {\n  try {\n    if (type === 'data')\n      document.querySelector('.btn--profile-save').classList.add('disable-el');\n    else\n      document.querySelector('.btn--settings-save').classList.add('disable-el');\n    const url =\n      type === 'data'\n        ? 'http://127.0.0.1:3100/api/v1/users/me'\n        : 'http://127.0.0.1:3100/api/v1/users/update-password';\n\n    const res = await axios({\n      method: 'PATCH',\n      url,\n      data,\n    });\n    if (res.data.status === 'success') {\n      showAlert('success', `Update your ${type} successfully`);\n\n      if (type === 'data') {\n        document\n          .querySelector('.btn--profile-save')\n          .classList.remove('disable-el');\n        return window.setTimeout(() => location.reload(true), 1000);\n      }\n      document.querySelector('#currentPassword').value = '';\n      document.querySelector('#password').value = '';\n      document.querySelector('#passwordConfirm').value = '';\n      document\n        .querySelector('.btn--settings-save')\n        .classList.remove('disable-el');\n    }\n  } catch (err) {\n    showAlert('error', err.response?.data.message);\n    if (type === 'data')\n      return document\n        .querySelector('.btn--profile-save')\n        .classList.remove('disable-el');\n\n    document\n      .querySelector('.btn--settings-save')\n      .classList.remove('disable-el');\n  }\n};\n"],"names":[],"version":3,"file":"bundle.js.map","sourceRoot":"../../"}